syntax = "proto3";

package reminder;

option go_package = "github.com/kiribu/jwt-practice/internal/reminder/grpc/pb";

service ReminderService {
  rpc CreateReminder(CreateReminderRequest) returns (ReminderResponse);
  rpc GetReminders(GetRemindersRequest) returns (GetRemindersResponse);
  rpc GetReminder(GetReminderRequest) returns (ReminderResponse);
  rpc UpdateReminder(UpdateReminderRequest) returns (ReminderResponse);
  rpc DeleteReminder(DeleteReminderRequest) returns (DeleteReminderResponse);
}

message CreateReminderRequest {
  string user_id     = 1;  // UUID as string
  string title       = 2;
  string description = 3;
  string remind_at   = 4;
}

message GetRemindersRequest {
  string user_id = 1;  // UUID as string
  string status = 2; // "pending", "sent", or empty for all
}

message GetReminderRequest {
  string user_id = 1;  // UUID as string
  string id      = 2;  // UUID as string
}

message UpdateReminderRequest {
  string user_id     = 1;  // UUID as string
  string id          = 2;  // UUID as string
  string title       = 3;
  string description = 4;
  string remind_at   = 5;
}

message DeleteReminderRequest {
  string user_id = 1;  // UUID as string
  string id      = 2;  // UUID as string
}

message ReminderResponse {
  string id          = 1;  // UUID as string
  string user_id     = 2;  // UUID as string
  string title       = 3;
  string description = 4;
  string remind_at   = 5;
  bool   is_sent     = 6;
  string created_at  = 7;
  string updated_at  = 8;
}

message GetRemindersResponse {
  repeated ReminderResponse reminders = 1;
}

message DeleteReminderResponse {
  bool   success = 1;
  string message = 2;
}
